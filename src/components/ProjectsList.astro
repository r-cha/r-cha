---
const projectsWithImages = [
  {
    name: "Concerto Studio",
    url: "https://concerto.studio/",
    description: "Creatively & collaboratively review audio",
    avif: "/images/avif/concerto-studio.avif",
    webp: "/images/webp/concerto-studio.webp",
    fallback: "/images/concerto-studio.png",
    width: 400,
    height: 236,
  },
  {
    name: "Trading Fours",
    url: "https://tradingfours.app/",
    description: "Chat, but the language is MIDI",
    avif: "/images/avif/trading-fours.avif",
    webp: "/images/webp/trading-fours.webp",
    fallback: "/images/trading-fours.png",
    width: 400,
    height: 221,
  },
  {
    name: "encourage.nvim",
    url: "https://github.com/r-cha/encourage.nvim",
    description: "Cure your impostor syndrome",
    avif: "/images/avif/encourage-nvim.avif",
    webp: "/images/webp/encourage-nvim.webp",
    fallback: "/images/encourage-nvim.png",
    width: 400,
    height: 217,
  },
];
const projects = [
  {
    name: "HDRify",
    url: "https://hdrify.me",
    description: "Stand out on Slack (in the worst way)",
  },
  {
    name: "dotfiles",
    url: "https://github.com/r-cha/dotfiles",
    description: "Set up your dev tools like mine",
  },
  {
    name: "rochadrums",
    url: "https://www.rochadrums.com/",
    description: "Check out my drumming",
  },
];
---

<section class="w-auto mb-12">
  <!-- Featured Projects with Images -->
  <div class="prose-wide mb-12">
    <div class="grid gap-8 md:grid-cols-2 lg:grid-cols-3">
      {
        projectsWithImages.map((project) => (
          <article class="group rounded-lg overflow-hidden shadow-lg transition-all duration-300 hover:shadow-xl hover:scale-[1.02]" style="background-color: var(--color-bg); border: 1px solid var(--color-border);">
            <div class="overflow-hidden aspect-[16/9]">
              <picture>
                <source srcset={project.avif} type="image/avif" sizes="(max-width: 400px) 100vw, 400px" />
                <source srcset={project.webp} type="image/webp" sizes="(max-width: 400px) 100vw, 400px" />
                <img
                  src={project.fallback}
                  alt={project.name}
                  width={project.width}
                  height={project.height}
                  sizes="(max-width: 400px) 100vw, 400px"
                  class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"
                  fetchpriority="high"
                />
              </picture>
            </div>
            <div class="p-4">
              <a
                href={project.url}
                target="_blank"
                class="text-lg font-mono tracking-tight text-decoration hover:underline transition-colors duration-200"
                style="color: var(--color-accent);"
              >
                {project.name}
              </a>
              <p class="mt-1 text-sm leading-relaxed" style="color: var(--color-text-muted);">
                {project.description}
              </p>
            </div>
          </article>
        ))
      }
    </div>
  </div>

  <!-- Other Projects -->
  <div class="prose-wide">
    <h3 class="text-lg mb-6 pb-2" style="font-family: var(--font-serif); font-weight: 600; line-height: 1.2; border-bottom: 1px solid var(--color-border); color: var(--color-text);">More Projects</h3>
    <div class="grid gap-6 md:grid-cols-2 lg:grid-cols-3">
      {
        projects.map((project) => (
          <article class="group rounded-lg overflow-hidden shadow-lg transition-all duration-300 hover:shadow-xl hover:scale-[1.02] p-4" style="background-color: var(--color-bg); border: 1px solid var(--color-border);">
            <a
              href={project.url}
              target="_blank"
              class="text-lg font-mono tracking-tight text-decoration hover:underline transition-colors duration-200"
              style="color: var(--color-accent);"
            >
              {project.name}
            </a>
            <p class="mt-1 text-sm leading-relaxed" style="color: var(--color-text-muted);">
              {project.description}
            </p>
          </article>
        ))
      }
    </div>
  </div>
</section>
