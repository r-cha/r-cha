@import 'tailwindcss';
@plugin "@tailwindcss/typography";

@theme {
  --breakpoint-*: initial;
  --breakpoint-xs: 375px;
  --breakpoint-sm: 640px;
  --breakpoint-md: 768px;
  --breakpoint-lg: 1024px;
  --breakpoint-xl: 1280px;
  --breakpoint-2xl: 1536px;

  /* Colors - warmer, academic palette */
  --color-bg: #1a1d23;
  --color-text: #e6e1dc;
  --color-text-muted: #b8b4b1;
  --color-border: #374151;
  --color-border-light: #4b5563;
  --color-accent: hsl(210 100% 68%);
  --color-codeactive: hsl(210 100% 63%);

  /* Fonts */
  --font-mono:
    Source Code Pro Variable, ui-monospace, SFMono-Regular, Menlo, Monaco,
    Consolas, 'Liberation Mono', 'Courier New', monospace;
  --font-serif:
    Charter, 'Bitstream Charter', 'Sitka Text', Cambria, serif;
}

/* Base elements */
aside {
	border-radius: 0.5rem;
	background-color: var(--color-bg);
	border: 1px solid var(--color-border);
	padding: 1.5rem;
	margin: 1.5rem 0;
}

.astro-code {
	border: 1px solid var(--color-border);
	border-radius: 0.5rem;
	box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

/* Layout utilities for content bleeding */
.prose-container {
	display: grid;
	grid-template-columns: 1fr min(65ch, calc(100% - 2rem)) 1fr;
	gap: 0 1rem;
}

@media (min-width: 768px) {
	.prose-container {
		grid-template-columns: 1fr min(65ch, 90%) 1fr;
		gap: 0 2rem;
	}
}

.prose-container > * {
	grid-column: 2;
}

.prose-wide {
	grid-column: 1 / -1;
	max-width: min(100vw - 2rem, 90ch);
	margin-left: auto;
	margin-right: auto;
}

.prose-full {
	grid-column: 1 / -1;
	width: 100%;
}

span.diff {
	display: inline-block;
	width: calc(100% + 48px);
	margin: 0 -24px;
	padding: 0 24px;
}

span.diff.remove {
	background-color: 	hsl(355 84% 69% / 0.2);
	opacity: 0.7;
}

span.diff.add {
	background-color: 	hsl(105 61% 62% / 0.2);
}

.sr-only {
	border: 0;
	padding: 0;
	margin: 0;
	position: absolute !important;
	height: 1px;
	width: 1px;
	overflow: hidden;
	/* IE6, IE7 - a 0 height clip, off to the bottom right of the visible 1px box */
	clip: rect(1px 1px 1px 1px);
	/* maybe deprecated but we need to support legacy browsers */
	clip: rect(1px, 1px, 1px, 1px);
	/* modern browsers, clip-path works inwards from each corner */
	clip-path: inset(50%);
	/* added line to stop words getting smushed together (as they go onto seperate lines and some screen readers do not understand line feeds as a space */
	white-space: nowrap;
}
